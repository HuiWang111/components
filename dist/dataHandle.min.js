"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.rmDup=function(){var res=[];return this.split(",").forEach(function(item){res.includes(item)||res.push(item)}),res.join(",")},String.prototype.count=function(){var arr=[];return""!=this&&(arr=this.rmDup().split(",")),arr.length},String.prototype.ins=function(targets){if("string"!=typeof targets)throw new Error("targets must be String");var a=targets.rmDup().split(","),b=this.rmDup().split(","),res=[];return a.forEach(function(c){b.includes(c)&&res.push(c)}),res.join(",")},String.prototype.containsAny=function(list){if("string"==typeof list)return 0<this.ins(list).count();throw new Error("targets must be String")},String.prototype.containsAll=function(list){if("string"==typeof list)return this.ins(list).count()===list.count();throw new Error("targets must be String")},String.prototype.remove=function(targets){if("string"!=typeof targets)throw new Error("targets must be String");var arr=this.rmDup().split(",");return targets.rmDup().split(",").forEach(function(item){arr.includes(item)&&arr.splice(arr.indexOf(item),1)}),arr.join(",")},String.prototype.add=function(list){if("string"!=typeof list)throw new Error("targets must be String");var arr=this.split(",");return list.split(",").forEach(function(item){arr.includes(item)||arr.push(item)}),arr.join(",")},Object.prototype.equal=function(obj){if(!obj)return!1;if(!$.fn.isObject(obj)||$.fn.isArray(obj)||$.fn.isArray(this))return!1;for(var key in this){if(this.hasOwnProperty(key)!==obj.hasOwnProperty(key))return!1;if(_typeof(this[key])!==_typeof(obj[key]))return!1}for(var prop in obj){if(this.hasOwnProperty(prop)!==obj.hasOwnProperty(prop))return!1;if(_typeof(this[prop])!==_typeof(obj[prop]))return!1;if(this.hasOwnProperty(prop))if($.fn.isArray(this[prop])&&$.fn.isArray(obj[prop])){if(!this[prop].equal(obj[prop]))return!1}else if($.fn.isObject(this[prop])&&$.fn.isObject(obj[prop])){if(!this[prop].equal(obj[prop]))return!1}else if(this[prop]!==obj[prop])return!1}return!0},Array.prototype.equal=function(arr){return!!arr&&(!!$.fn.isArray(arr)&&(this.length===arr.length&&(this.forEach(function(item,index){if($.fn.isArray(item)&&$.fn.isArray(arr[index])){if(!item.equal(arr[index]))return!1}else if($.fn.isObject(item)&&$.fn.isObject(arr[index])){if(!item.equal(arr[index]))return!1}else if(item!==arr[index])return!1}),!0)))},Object.defineProperty(Array.prototype,"equal",{enumerable:!1}),Object.defineProperty(Object.prototype,"equal",{enumerable:!1}),Array.prototype.SQL=function(sql){if("string"!=typeof sql)throw new Error("targets must be String");var arr=sql.split(" where "),targets=arr[0].split("select ")[1],cKey=void 0,cValue=void 0,flag=0,result=[],obj={};if(1<arr.length){var conditions=arr[1];this.forEach(function(data){if(-1<conditions.indexOf("and"))conditionList=conditions.split(" and "),flag=0,conditionList.forEach(function(condition){cKey=condition.split("=")[0].trim(),cValue=condition.split("=")[1].trim(),data[cKey]===cValue&&flag++}),flag===conditionList.length&&("*"===targets.trim()?result.push(data):(targetList=targets.split(","),obj={},targetList.forEach(function(target){for(var key in data)if(key===target.trim()){obj[key]=data[key];break}}),result.push(obj)));else if(-1<conditions.indexOf("or")){conditionList=conditions.split(" or ");var _iteratorNormalCompletion=!(flag=0),_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=conditionList[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var condition=_step.value;if(cKey=condition.split("=")[0].trim(),cValue=condition.split("=")[1].trim(),data[cKey]===cValue){flag++;break}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}0<flag&&("*"===targets.trim()?result.push(data):(targetList=targets.split(","),obj={},targetList.forEach(function(target){for(var key in data)if(key===target.trim()){obj[key]=data[key];break}}),result.push(obj)))}else cKey=conditions.split("=")[0].trim(),cValue=conditions.split("=")[1].trim(),data[cKey]===cValue&&("*"===targets.trim()?result.push(data):(targetList=targets.split(","),obj={},targetList.forEach(function(target){for(var key in data)if(key===target.trim()){obj[key]=data[key];break}}),result.push(obj)))})}else 1===arr.length&&this.forEach(function(data){"*"===targets.trim()?result.push(data):(targetList=targets.split(","),obj={},targetList.forEach(function(target){for(var key in data)if(key===target.trim()){obj[key]=data[key];break}}),result.push(obj))});return result};