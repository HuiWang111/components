"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(win,$){var emptyArray=[];if(emptyArray.map){String.prototype.repeat||(String.prototype.repeat=function(count){if((count=parseInt(count))<0)throw new Error("Invalid count value");if(isNaN(count)||0===count)return"";for(var result="",i=0;i<count;i++)result+=this;return result}),Array.from||(Array.from=function(arrayLike,callback){var len=arrayLike.length;if(void 0===len)return[];var object={};for(var key in arrayLike)object[parseFloat(key)]=arrayLike[key];for(var array=[],i=0;i<len;i++)if(isNaN(i))array.push(void 0);else{var item=isFunction(callback)?callback(object[i],i,object):object[i];array.push(item)}return array}),Array.prototype.find||(Array.prototype.find=function(callback,context){if(!isFunction(callback))throw new Error(callback+" is not a function");for(var i=0,len=this.length;i<len;i++){if(void 0===context?callback(this[i],i,this):callback.call(context,this[i],i,this))return this[i]}}),Array.prototype.findIndex||(Array.prototype.findIndex=function(callback,context){if(!isFunction(callback))throw new Error(callback+" is not a function");for(var i=0,len=this.length;i<len;i++){if(!0===(void 0===context?callback(this[i],i,this):callback.call(context,this[i],i,this)))return i}return-1}),Array.prototype.includes||(Array.prototype.includes=function(target,start){for(var len=this.length,result=!1,i=start=0<=(start=isNumber(start)?start:0)?start:len+start;i<len;i++)if(Object.is(target,this[i])){result=!0;break}return result}),Array.prototype.fill||(Array.prototype.fill=function(fill,start,end){var array=this,len=array.length;if(null==start&&null==end)return array=array.map(function(){return fill});if(null==start&&null!=end){if(!isNumeric(end))throw new Error(end+" is not a number");return(end=(end=parseInt(end))<0?len+end:end)<0?array:array=array.map(function(item,index){return index<end?fill:item})}if(null!=start&&null==end){if(!isNumeric(start))throw new Error(start+" is not a number");return array=(start=(start=parseInt(start))<0?len+start:start)<0?array.map(function(){return fill}):array.map(function(item,index){return start<=index?fill:item})}if(!isNumeric(start)||!isNumeric(end))throw new Error(start+" or "+end+"is not a number");return start=parseInt(start),end=(end=parseInt(end))<0?len+end:end,(start=start<0?len+start:start)<0&&end<0?array:0<start&&end<0?array:array=start<0&&0<end?array.map(function(item,index){return index<end?fill:item}):array.map(function(item,index){return start<=index&&index<end?fill:item})}),Object.is||(Object.is=function(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}),Object.assign||(Object.assign=function(){var receiver=Array.from(arguments).slice(0,1)[0];return Array.from(arguments).slice(1).forEach(function(supplier){Object.keys(supplier).forEach(function(key){receiver[key]=supplier[key]})}),receiver}),Object.assign(Component.prototype,{constructor:Component,init:function(){this.render(),this.setStyle(),this.mount()},render:function(){},setStyle:function(){},mount:function(array){if(array){if(!Array.isArray(array))throw new Error(array+" is not a Array");this.componentWillMount();for(var i=0,len=array.length;i<len;i++){var item=array[i],container=item.contianer,html=item.html,condition=item.condition;if("body"!==container&&!isDom(container))throw new Error(container+" is not a DOMElement");condition&&("body"===container?insertElementToBody($(html)):$(container).html(html))}domAfterLoad(lastOf(array).selector,$.proxy(function(){this.componentDidMount(),this.bindEvents()},this))}},componentWillMount:function(){},componentDidMount:function(){},bindEvents:function(){}}),win.Component=Component,_Set.prototype={constructor:_Set,has:function(item){return void 0!==keyOf(this,item,["size","nextKey"])},forEach:function(callback){if(!isFunction(callback))throw new Error(callback+" is not a function");for(var key in this)callback(this[key],key,this)},add:function(item){return this.has(item)||(this[this.nextKey++]=item,this.size++),this},delete:function(item){var key=keyOf(this,item,["size","nextKey"]);return void 0!==key&&(delete this[key],this.size--,!0)},clear:function(){deleteKeys(this,null,["size","nextKey"]),this.size=0,this.nextKey=0}};var Util={isString:isString,isObject:isObject,isEmptyObject:isEmptyObject,isFunction:isFunction,isNumber:isNumber,isNumeric:isNumeric,isDom:isDom,toSelector:function(string,type){if(isString(string)&&""!==string)return("class"===(type=null==type?"class":type)?".":"id"===type?"#":"")+string},appendStyle:function(object){if(isObject(object)&&!isEmptyObject(object)&&null!==object){var key,style="";for(key in object){var k,obj=object[key],styl="";for(k in obj)styl+=k+": "+obj[k]+";";style=""===style?key+" { "+styl+" }":style+"\n"+key+" { "+styl+" }"}var oldStyleTag=document.querySelector("style");if(oldStyleTag){var oldStyle=oldStyleTag.innerHTML,newStyle=""===oldStyle?style:oldStyle+"\n"+style;oldStyleTag.innerHTML=newStyle}else{var styleTag=document.createElement("style");styleTag.type="text/css",styleTag.innerHTML=style,document.querySelector("head").appendChild(styleTag)}}},insertElementToBody:insertElementToBody,domAfterLoad:domAfterLoad,tagOf:function(el){return void 0===el?el.tagName.toLowerCase():el[0].tagName.toLowerCase()},uniq:uniq,diff:diff,ins:ins,difference:function(array,list){if(!Array.isArray(array))throw new Error(array+" is not a function");if(!Array.isArray(list))throw new Error(list+" is not a function");var insection=ins(array,list),arr1=diff(array,insection),arr2=diff(list,insection);return arr1.concat(arr2)},makeArray:function(arrayLike){return emptyArray.slice.call(arrayLike)},deleteKeys:deleteKeys,keyOf:keyOf,lastOf:lastOf,dateFormater:function(date,format){var result,full=function(number){if(!isNumeric(number))throw new Error("`number` must be a number");return(number=parseInt(number))<10?"0"+number:number},year=(date=isNumeric(date)?13===(date=parseInt(date)).toString().length?new Date(date):new Date(1e3*date):new Date).getFullYear(),month=full(date.getMonth()+1),day=full(date.getDate()),hour=full(date.getHours()),minute=full(date.getMinutes()),second=full(date.getSeconds());switch(format=format||"yyyy/mm/dd hh:mm:ss"){case"yyyy-mm-dd hh:mm:ss":result=year+"-"+month+"-"+day+" "+hour+":"+minute+":"+second;break;case"yyyy-mm-dd hh:mm":result=year+"-"+month+"-"+day+" "+hour+":"+minute;break;case"mm-dd yyyy":result=month+"-"+day+" "+year;break;case"yyyy-mm-dd":result=year+"-"+month+"-"+day;break;case"yyyy/mm/dd hh:mm:ss":result=year+"/"+month+"/"+day+" "+hour+":"+minute+":"+second;break;case"yyyy/mm/dd hh:mm":result=year+"/"+month+"/"+day+" "+hour+":"+minute;break;case"yyyy/mm/dd":result=year+"/"+month+"/"+day;break;case"hh:mm:ss":result=hour+":"+minute+":"+second;break;case"hh:mm":result=hour+":"+minute;break;default:throw new Error("not support this format:`"+format+"`")}return result},buildRandomString:function(length){function randomLetter(size){for(var letters=[],i=65;i<91;i++)letters.push(String.fromCharCode(i));for(i=97;i<123;i++)letters.push(String.fromCharCode(i));var result=letters[Math.floor(Math.random()*letters.length)];if(isNumeric(size)&&1<(size=parseInt(size)))for(i=1;i<size;i++)result+=letters[Math.floor(Math.random()*letters.length)];return result}var randomString=Math.random().toString(36).substr(2);randomString=randomLetter()+randomString,isNumeric(length)&&(length=parseInt(length),randomString.length>length?randomString=randomString.substr(0,length):randomString.length<length&&(randomString+=randomLetter(length-randomString.length)));return randomString},Set:_Set};win.Util=Util,String.prototype.appendClass=function(className){var string=this;return 0!==className.length&&(string+=0===string.length?className:" "+className),string},$.prototype.translate=function(x,y){return null==x&&null==y?[parseFloat(this.css("transform").replace(/[^0-9\-.,]/g,"").split(",")[4]),parseFloat(this.css("transform").replace(/[^0-9\-.,]/g,"").split(",")[5])]:(null==y?(xValue=isFunction(x)?parseFloat(x()):parseFloat(x),isNaN(xValue)||this.css({transform:"translateX("+xValue+"px)"})):null==x?(yValue=isFunction(y)?parseFloat(y()):parseFloat(y),isNaN(yValue)||this.css({transform:"translateY("+yValue+"px)"})):(xValue=isFunction(x)?parseFloat(x()):parseFloat(x),yValue=isFunction(y)?parseFloat(y()):parseFloat(y),isNaN(xValue)||isNaN(yValue)||this.css({transform:"translate("+xValue+"px, "+yValue+"px)"})),this);var xValue,yValue},$.prototype.translateX=function(value){if(null==value)return parseFloat(this.css("transform").replace(/[^0-9\-.,]/g,"").split(",")[4]);this.translate(value)},$.prototype.translateY=function(value){if(null==value)return parseFloat(this.css("transform").replace(/[^0-9\-.,]/g,"").split(",")[5]);this.translate(null,value)},$.prototype.findIndex=function(callback){if(!isFunction(callback))throw new Error("`callback` must be a function");for(var i=0,len=this.length;i<len;i++){if(!0===callback(i,this[i],this))return i}return-1},$.extend({node:function(wrapper,item,klass,attr){if(null==item)return"";item=Array.isArray(item)?item.join(""):item,klass=klass?' class="'+klass+'"':"";var attributes="";if(attr)if(isString(attr))attributes=" "+attr;else if(isObject(attr))for(var key in attr){if("style"===key.trim()&&isObject(attr[key])&&null!==attr[key])for(var k in attributes+=key+"=",attr[key])attributes+='"'+k+": "+attr[key][k]+';"';else attributes+=" "+(key+'="'+attr[key]+'"')}return"<"+wrapper+klass+attributes+">"+item+"</"+wrapper+">"},inherit:function(SuperClass,SubClass){SubClass.prototype=new SuperClass,(SubClass.prototype.constructor=SubClass).prototype.super=SuperClass}})}else alert("您的浏览器过旧，请升级浏览器！");function Component(){this.init()}function isString(target){return"string"==typeof target}function isObject(target){return"object"===(void 0===target?"undefined":_typeof(target))&&!(target instanceof Array)}function isEmptyObject(target){var key;for(key in target)return!1;return!0}function isNumeric(target){return!isNaN(parseFloat(target))}function isNumber(target){return"number"==typeof target}function isFunction(target){return"function"==typeof target}function isDom(target,Other){return target instanceof HTMLCollection||target instanceof jQuery||target instanceof HTMLElement||target instanceof NodeList||Other&&target instanceof Other}function insertElementToBody(el){var script=document.querySelector("script"),parent=script?script.parentNode:document.querySelector("body"),insert=function(v){script?parent.insertBefore(v,script):parent.appendChild(v)},len=el.length;if(void 0!==len)for(var i=0;i<len;i++)el[i]&&insert(el[i]);else insert(el)}function domAfterLoad(selector,loadedCallback,maxTimes,times){times=times||0,maxTimes=isNumber(maxTimes)?maxTimes:500;var timer=null;if(0<document.querySelectorAll(selector).length)timer&&clearTimeout(timer),isFunction(loadedCallback)&&loadedCallback();else{if(maxTimes<=times)return void(isFunction(loadedCallback)&&console.warn("`"+selector+"`未加载到dom，回调未执行"));times++;var fn=arguments.callee;timer=setTimeout(function(){fn(selector,loadedCallback,maxTimes,times)},0)}}function keyOf(object,target,excludes){if(!isObject(object))throw new Error(object+" is not a object");var isNil=null==excludes;if(!isNil&&!isString(excludes))throw new Error(excludes+" is not a string");for(var key in isNil||(excludes=excludes.split(",")),object)if(isNil){if(Object.is(object[key],target))return key}else if(!excludes.includes(key)&&Object.is(object[key],target))return key}function deleteKeys(object,keys,excludes){if(!isObject(object))throw new Error(object+" is not a object");if(null!=keys&&!isString(keys))throw new Error(keys+" is not a string");if(null!=excludes&&!isString(excludes))throw new Error(excludes+" is not a string");var keyList,excludeList;for(var key in excludeList=null==keys?(keyList=null)==excludes?null:excludes.split(","):(keyList=null==excludes?keys.split(","):diff(keys.split(","),excludes.split(",")),null),object)null==keyList&&null==excludeList?delete object[key]:null!=keyList&&null==excludeList?keyList.includes(key)&&delete object[key]:null==keyList&&null!=excludeList&&(excludeList.includes(key)||delete object[key])}function uniq(array){if(!Array.isArray(array))throw new Error(array+" is not a Array");var result=[];return array.forEach(function(item){result.includes(item)||result.push(item)}),result}function diff(array,list){if(!Array.isArray(array))throw new Error(array+" is not a function");if(!Array.isArray(list))throw new Error(list+" is not a function");var result=[];return uniq(array).forEach(function(item){list.includes(item)||result.push(item)}),result}function ins(array,list){if(!Array.isArray(array))throw new Error(array+" is not a function");if(!Array.isArray(list))throw new Error(list+" is not a function");array=uniq(array),list=uniq(list);var result=[];return array.forEach(function(item){list.includes(item)&&result.push(item)}),result}function lastOf(object){if(object)return void 0===object.length?object:object[object.length-1]}function _Set(){for(var set,len=(set=uniq(set=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments))).length,i=0;i<len;i++){var value=set[i];this[i]=value}this.size=len,this.nextKey=len}}(window,jQuery);